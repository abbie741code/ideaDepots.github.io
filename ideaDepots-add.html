<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IdeaDepots</title>

    <!-- 網址縮圖 -->
    <meta property="og:url" content="#" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="#" />
    <meta property="og:description" content="#" />
    <meta property="og:image" content="images/share.jpg" />
    <meta name="description" content="#" />

    <!-- 引用bs的css (CDN) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />

    <!-- 引用bs5.2.2 (local自行放） -->
    <!-- <link rel="stylesheet" href="bootstrap-5.2.2-dist/css/bootstrap.min.css" /> -->

    <!-- 引用font awesome 6.2.1  -->
    <link rel="stylesheet" href="fontawesome-free-6.2.1-web/css/all.css" />
    <!-- 引bs-icon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />

    <!-- 引用favicon (local自行放） -->
    <link rel="shortcut icon" href="images/favicon.ico" />
    <!-- 自行設定css -->
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />

    <style>
      /* * {
        outline: 1px solid rgb(255, 173, 213);
      } */
    </style>
  </head>

  <body>
    <!-- Header -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light border-bottom fs-14"
    >
      <div class="container-fluid">
        <a class="navbar-brand ab-logo-wrapper ms-md-1" href="index.html">
          <img src="images/logo.svg" alt="" class=" " />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse me-md-1"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
            <li class="nav-item">
              <a class="nav-link active" href="index.html">點子倉庫</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="project.html">我的專案</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">內部資源</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">客戶資訊</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">廠商管理</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                經營管理
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end fs-14"
                aria-labelledby="navbarDropdown"
              >
                <li>
                  <a class="dropdown-item" href="#">專案支出</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">管銷費用</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">分析報告</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">帳號設定</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">業績報表</a>
                </li>
              </ul>
            </li>
            <!-- <li class="nav-item">
              <div class="rounded-avatar-container">
                <img src="images/dog.png" alt="" >
              </div>
            </li> -->
            <!-- 大頭貼下拉選單 -->
            <li class="nav-item dropdown">
              <div
                class="dropdown-toggle ab-avatar-container"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img src="images/dog.png" alt="" />
              </div>
              <!-- 避免下拉式選單被右側吃掉 -->
              <ul
                class="dropdown-menu dropdown-menu-end fs-14"
                aria-labelledby="navbarDropdown"
              >
                <li>
                  <a class="dropdown-item" href="#">
                    <i class="fa-regular fa-user me-2"></i>個人資料
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">
                    <i class="fa-solid fa-location-dot me-2"></i>我要打卡
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">
                    <i class="fa-solid fa-arrow-right-from-bracket me-2"></i
                    >登出
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- 主要內容區域 -->
    <div class="container wrapper">
      <!-- Breadcrumb -->
      <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
        <ol class="breadcrumb py-5">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">新增知識庫</li>
        </ol>
      </nav>

      <p class="border-bottom border-secondary pb-3 fs-4 fw-bold">新增知識庫</p>

      <div class="container mt-4">
        <div class="row">
          <div class="col-md-4">
            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label"
                >參考來源*</label
              >
              <div class="col-sm-8">
                <select class="form-control" id="option1">
                  <option>公司專案</option>
                  <option>其他參考</option>
                </select>
              </div>
            </div>

            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label"
                >專案類型*</label
              >
              <div class="col-sm-8">
                <select class="form-control" id="option1">
                  <option>公司專案</option>
                  <option>其他參考</option>
                </select>
              </div>
            </div>

            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label"
                >專案編號*</label
              >
              <div class="col-sm-8">
                <input
                  type="text"
                  class="form-control"
                  id="option3"
                  placeholder="請輸入專案編號"
                />
              </div>
            </div>

            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label"
                >專案名稱*</label
              >
              <div class="col-sm-8">
                <input
                  type="text"
                  class="form-control"
                  id="option3"
                  placeholder="請輸入專案編號"
                />
              </div>
            </div>

            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label">說明</label>
              <div class="col-sm-8">
                <textarea
                  class="form-control"
                  id="option5"
                  rows="5"
                  placeholder="請輸入內容"
                ></textarea>
              </div>
            </div>

            <div class="row mb-3">
              <label for="option1" class="col-sm-4 col-form-label"
                >新增關鍵字</label
              >
              <div class="col-sm-8">
                <div class="d-flex">
                  <input
                    type="text"
                    class="form-control"
                    id="keyword"
                    placeholder="請輸入關鍵字"
                  />
                  <button
                    type="button"
                    class="btn btn-secondary ms-2 ab-btn-minwidth"
                  >
                    新增
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-8">
            <!-- 這裡是其他內容，請確保只有一個上傳照片的區塊 -->
            <div class="form-group">
              <label for="photoUpload">上傳照片:</label>
              <input
                type="file"
                class="form-control mt-2"
                id="photoUpload"
                multiple
              />

              <!-- 預覽圖片的正方形框 -->
              <!-- <div class="preview-container">
              </div> -->
              <!-- 預覽圖片的正方形框 -->
              <div class="preview-row">
                <!-- 用於顯示預覽圖片的區域 -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- btn -->
      <div class="container mt-5">
        <div class="text-center">
          <button type="button" class="btn btn-light me-2 px-5">取消</button>
          <button type="button" class="btn btn-secondary px-5">儲存</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="text-white p-3 mt-4 text-center border-top">
      <div class="container-fluid">
        <!-- 自動帶入年份 -->
        <p class="text-secondary" id="footer-year"></p>
      </div>
    </footer>

    <!-- 引用bs的js (CDN) -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>

    <!-- 一引用navbar的下拉式選單會失效 -->
    <!-- jq-3.6.0.js & popper.js & bs.js (local自行放） -->
    <!-- <script type="text/javascript" src="js/jquery-3.6.0.js"></script>
    <script src="bootstrap-5.2.2-dist/js/popper.min.js"></script>
    <script src="bootstrap-5.2.2-dist/js/bootstrap.min.js"></script> -->

    <script>
      // 取得當前年份
      var currentYear = new Date().getFullYear();

      // 將年份顯示在頁腳中
      document.getElementById("footer-year").innerHTML =
        "Copyright © " + currentYear + " BORNA";
    </script>

    <!-- 上傳照片 -->
    <script>
      // 當選擇照片後的事件處理函式
      document
        .getElementById("photoUpload")
        .addEventListener("change", function (event) {
          event.stopPropagation(); // 停止事件傳播

          const previewRow = document.querySelector(".preview-row");
          previewRow.innerHTML = ""; // 清空已有的預覽

          const maxWidth = 150; // 最大寬度，根據需要調整
          const files = event.target.files;
          const fileCount = files.length;

          for (let i = 0; i < fileCount; i++) {
            const file = files[i];
            const reader = new FileReader();

            reader.onloadend = function () {
              const previewContainer = document.createElement("div");
              previewContainer.className = "preview-container";

              const img = document.createElement("img");
              img.src = reader.result;
              img.alt = "預覽圖片";
              img.className = "square bg-secondary";

              img.onload = function () {
                const aspectRatio = img.width / img.height;
                if (img.width > maxWidth) {
                  img.width = maxWidth;
                  img.height = maxWidth / aspectRatio;
                }
              };

              const deleteButton = document.createElement("button");
              deleteButton.innerText = "刪除";
              deleteButton.className =
                "badge bg-light text-dark border-1 delete-button mb-2";

              deleteButton.addEventListener("click", function () {
                previewRow.removeChild(previewContainer);
              });

              previewContainer.appendChild(img);
              previewContainer.appendChild(deleteButton);
              previewRow.appendChild(previewContainer);
            };

            if (file) {
              reader.readAsDataURL(file);
            }
          }
        });
    </script>
  </body>
</html>
